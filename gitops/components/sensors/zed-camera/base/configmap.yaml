apiVersion: v1
kind: ConfigMap
metadata:
  name: zed-camera-config
  namespace: zed
data:
  # ZED Camera launch parameters
  # These can be overridden by environment variables or launch file modifications
  camera-params.yaml: |
    # Camera Configuration
    general:
      camera_name: "zed_camera"
      camera_model: "zed2i"  # zed, zed2, zed2i, zedx, zedxm
      serial_number: 0  # 0 = auto-detect first available camera
      pub_frame_rate: 30.0

    # Video Settings
    video:
      resolution: "HD720"  # Options: HD2K, HD1080, HD720, VGA
      grab_frame_rate: 30  # Must match pub_frame_rate

    # Depth Settings
    depth:
      depth_mode: "ULTRA"  # PERFORMANCE, QUALITY, ULTRA, NEURAL
      min_depth: 0.3  # meters
      max_depth: 20.0  # meters
      depth_stabilization: true

    # Topic Publishing Configuration
    # Enable only essential topics to reduce CPU/bandwidth
    topics:
      pub_rgb: true
      pub_depth: true
      pub_stereo: false  # Disable stereo pair to save bandwidth
      pub_imu: true
      pub_left_camera_imu_tf: false
      pub_right_camera_imu_tf: false
      pub_pose: false  # Disable positional tracking for now
      pub_odometry: false
      pub_path: false
      pub_mapped_point_cloud: false
      pub_point_cloud: true

    # Quality of Service settings
    qos:
      depth_qos: "SENSOR_DATA"
      imu_qos: "SENSOR_DATA"
      rgb_qos: "SENSOR_DATA"
      pointcloud_qos: "SENSOR_DATA"
